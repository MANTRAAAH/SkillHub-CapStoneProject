<div class="chat-trigger" (click)="toggleChatWindow()" *ngIf="isMinimized">
  <i class="fas fa-comments"></i>
</div>

<div class="chat-window" *ngIf="!isMinimized">
  <div class="chat-window-header">
    <h5 *ngIf="!selectedUser">Chat</h5>
    <h5 *ngIf="selectedUser">{{ selectedUser.username }}</h5>

    <!-- Mostra il pulsante "Indietro" solo quando una chat è selezionata -->
    <button *ngIf="selectedUser" (click)="goBack()">Indietro</button>

    <!-- Pulsante "X" per chiudere la finestra -->
    <button class="close-btn" (click)="toggleChatWindow()">&times;</button>
  </div>

  <div class="chat-window-body">
    <!-- Mostra la lista delle chat e la ricerca solo se non è stata selezionata una chat -->
    <div *ngIf="!selectedUser">
      <app-chat-users></app-chat-users>
    </div>

    <!-- Mostra la chat selezionata -->
    <div *ngIf="selectedUser">
      <app-chat></app-chat>
    </div>
  </div>
</div>
